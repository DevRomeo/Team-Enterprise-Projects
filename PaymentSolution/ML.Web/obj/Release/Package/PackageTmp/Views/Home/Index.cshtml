@using System.Web.Optimization
@using ML.Web.Helpers
@using PagedList.Mvc
@model PagedList.IPagedList<ML.PaymentSolution.Services.Contracts.Models.SearchPaymentModel>
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "Home";
}
<div class="container-fluid">
    <div class="panel panel-default">
        <div class="panel-heading clearfix">
            <h4 class="panel-title pull-left header-textcolor hidden-xs" style="padding-top: 10px;">PAYMENT LIST</h4>
            <div class="input-group col-md-4 col-sm-6 col-xs-12 pull-right">
                <input type="text" class="form-control InvoiceKey" placeholder="Search Invoice" maxlength="10" />
                <div class="input-group-btn">
                    <button class="btn btn-primary SearchInvoice"><i class="glyphicon glyphicon-search"></i></button>
                </div>
            </div>
        </div>

        @if (Model.PageCount != 0)
        {
            <div class="indexPartial">
                @{Html.RenderPartial("_partialIndex", Model);}
            </div>
        }
        else
        {
            <h1 class="header-textcolor text-center">No Transaction Record</h1>
        }

    </div>
    @if (Model.PageCount != 0)
    {        
        <div style="margin-top: -18px;">
            Page @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) of @Model.PageCount
        </div>
        <div style="margin-top: -15px;">
            @Html.PagedListPager(Model, page => Url.Action("Index", "Home", new { page }, Request.Url.Scheme))
        </div>
    }
</div>

<div class="modal fade modal-reprint-invoice" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="container-fluid">
                <div class="modal-body">
                    <div id="reprintablearea" class="reprintviewer"></div>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-default reprintpreview">Print <span class="glyphicon glyphicon-print"></span></button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade modal-deletepay">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title modal-text">Delete Payment</h4>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete this Invoice No. <b><span id="del"></span></b>.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">No</button>
                <button type="button" class="btn btn-danger DeletePayment">Yes</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
@section scripts
{
    @Scripts.Render("~/bundles/jquery-ui", "~/bundles/footables", "~/bundles/myscript", "~/bundles/Payment")
    <script type="text/javascript">
        $(function () {
            $('.Invoices').footable();
        });
    </script>
}
