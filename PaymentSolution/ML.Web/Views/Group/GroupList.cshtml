@using System.Web.Optimization
@using ML.Web.Helpers
@using PagedList.Mvc
@model PagedList.IPagedList<ML.PaymentSolution.Services.Contracts.Models.GroupModel>
@{
    ViewBag.Title = "Groups";
}

<div class="container-fluid">
    <div class="panel panel-default">
        <div class="panel-heading clearfix">
            <h4 class="panel-title pull-left header-textcolor hidden-xs" style="padding-top: 10px;">GROUP LIST</h4>
            <div class="input-group col-md-4 col-sm-6 col-xs-12 input-group-sm pull-right">
                <input type="text" class="form-control GroupKey" placeholder="Search Group">
                <div class="input-group-btn">
                    <button class="btn btn-primary searchGroup"><i class="glyphicon glyphicon-search"></i></button>
                </div>
            </div>
        </div>
        @{ Html.RenderPartial("_partialgrouplist", Model); }
        @*@if (Model.Select(m => m.NoOfEmployee).FirstOrDefault() = 0)
        {
            
        }
        else
        {
           <h1 class="header-textcolor text-center">No Groups</h1>
        }*@
    </div>
    <div style="margin-top: -18px;">
        Page @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) of <span id="last">@Model.PageCount</span>
    </div>
    <div style="margin-top: -18px;">
        @Html.PagedListPager(Model, page => Url.Action("GroupList", "Group", new { page }, Request.Url.Scheme))
    </div>
</div>


<div class="modal fade modal-add-group" data-backdrop="static" data-keyboard="false" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title modal-text" id="myModalLabel">Add New Group</h4>
            </div>
            <div class="modal-body">
                Group Name
                <input id="txtgroupname" type="text" class="form-control" autofocus />
            </div><br>
            <div class="modal-footer">
                <div class="pull-left msg" style="font-size: 15px; display: none;"></div>
                <img class="pull-left loading" style="display: none;"
                     alt="Saving ..." src="@Url.Content("~/Content/Images/ajax-loader.gif")" />
                <button type="button" class="btn btn-primary AddGroup" data-url="@Url.Action("Create", "Group", Request.Url.Scheme)">Add Group</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

@section scripts
{
    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/bundles/jquery-ui", "~/bundles/footables", "~/bundles/Group", "~/bundles/Payment")
    <script type="text/javascript">
        $(function () {
            $('.Groups').footable();
        });
    </script>
}